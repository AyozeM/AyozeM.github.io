<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: formulario/paises.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: formulario/paises.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module paises -> se encarga de gestionar los filtros que tienen que ver con paises
 */
import {bddar} from '../bdd';
import {crearElemento} from '../libreriaDOM';
/**
 * Funcion principal que escribe el total de paises con movilizaciones erasmus
 */
export const escribePaises = () =>{
    let i = 0;
    creaEstructura();
    getPaises().map(e=>{
        i++;
        creaHtml(i,e);
    });
    document.querySelector("nav #modificable #todos").addEventListener("change",()=>{
        if(document.querySelector("#todos").checked){
            [].slice.call(document.querySelectorAll("#modificable input")).map(e=>e.checked=true);
        }else{
            [].slice.call(document.querySelectorAll("#modificable input")).map(e=>e.checked=false);
        }
    },false);
    
    [].slice.call(document.querySelectorAll("#modificable p:nth-child(n+2) input")).map(e=>{
        e.addEventListener("change",()=>{
            document.querySelector("#todos").checked = false;
        },false);
    });
};
/**
 * Crea la estructura inical html necesaria para escribir los paises.
 */
const creaEstructura = () =>{
    document.querySelector(`nav #modificable`).appendChild(crearElemento({
        etiqueta:"p",
        contenido:null,
        atributos:null,
        hijos:[{
            etiqueta:"label",
            contenido:null,
            atributos:[{
                nombre:"for",
                valor:"todos"
            }],
            hijos:[
                {
                    etiqueta:"input",
                    contenido:null,
                    atributos:[
                        {
                            nombre:"id",
                            valor:"todos"
                        },
                        {
                            nombre:"type",
                            valor:"checkbox"
                        },
                        {
                            nombre:"name",
                            valor:"paises"
                        },
                        {
                            nombre:"value",
                            valor:"todos"
                        }
                    ],
                    hijos:null
                },
                {
                    etiqueta:"span",
                    contenido:"Todos",
                    atributos:null,
                    hijos:null
                }
            ]
        }]
    }));
};
/**
 * inserta un pais con los datos enviados
 * @param {number} numero - numero de iteracion del bucle
 * @param {string} nombre - nombre del pais iterado
 */
const creaHtml = (numero,nombre) =>{
    document.querySelector(`nav #modificable`).appendChild(crearElemento({
        etiqueta:"p",
        contenido:null,
        atributos:null,
        hijos:[
            {
                etiqueta:"label",
                contenido:null,
                atributos:[
                    {
                        nombre:"for",
                        valor:`pais${numero}`
                    },
                ],
                hijos:[
                    {
                        etiqueta:"input",
                        contenido:null,
                        atributos:[
                            {
                                nombre:`id`,
                                valor:`pais${numero}`
                            },
                            {
                                nombre:"type",
                                valor:`checkbox`
                            },
                            {
                                nombre:"name",
                                valor:"paises"
                            },
                            {
                                nombre:"value",
                                valor:nombre
                            }
                        ]
                    },
                    {
                        etiqueta:"span",
                        contenido:nombre,
                        atributos:null,
                        hijos:null
                    }
                ]
            }
        ]
    }));
};
/**
 * Obtiene los paises existentes en el archivo JSON
 * @returns {array} lista de paises
 */
const getPaises = () => {
    let listaPaises = [];

    bddar.map(e=>{
        let aux = e.pais.nombre;
        if(!listaPaises.includes(aux)){
            listaPaises.push(aux);
        }
    });
    return listaPaises;
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bdd%2520-_%2520se%2520encarga%2520de%2520la%2520informacion%2520del%2520JSON.html">bdd -> se encarga de la informacion del JSON</a></li><li><a href="module-ciclos%2520-_%2520se%2520encarga%2520de%2520gestionar%2520los%2520filtros%2520que%2520tienen%2520que%2520ver%2520con%2520ciclos.html">ciclos -> se encarga de gestionar los filtros que tienen que ver con ciclos</a></li><li><a href="module-libreriaDOM%2520-_%2520se%2520encarga%2520de%2520crear%2520elementos%2520html.html">libreriaDOM -> se encarga de crear elementos html</a></li><li><a href="module-main%2520-_%2520Se%2520encarga%2520de%2520unir%2520todos%2520los%2520modulos%2520de%2520la%2520aplicacion.html">main -> Se encarga de unir todos los modulos de la aplicacion</a></li><li><a href="module-mainFormulario%2520-_%2520se%2520encarga%2520de%2520gestionar%2520el%2520formulario.html">mainFormulario -> se encarga de gestionar el formulario</a></li><li><a href="module-mapa%2520-_%2520se%2520encarga%2520de%2520gestionar%2520el%2520mapa.html">mapa -> se encarga de gestionar el mapa</a></li><li><a href="module-paises%2520-_%2520se%2520encarga%2520de%2520gestionar%2520los%2520filtros%2520que%2520tienen%2520que%2520ver%2520con%2520paises.html">paises -> se encarga de gestionar los filtros que tienen que ver con paises</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.0-dev</a> on Thu Dec 07 2017 01:45:58 GMT+0000 (STD)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
